## Для чего этот проект?
Аналитики тратят значительное количество времени на ручное составление выводов по итогам A/B тестов (около 2-3 часов), 
а также на объяснение этих выводов продукт менеджерам. Сами аналитики должны подготавливать структуру отчета, обсуждать
бизнес выводы с менеджерами (ставить 1-2 созвона), а также правку выводов, которые захотят видеть продакт менеджеры (или
их дополнение).
Это создает следующие проблемы:
1) Трата времени аналитиков (порядка 4-5 чч) на рутинное объяснение, вместо исследовательских задач
2) Задержка принятия продуктовых решений в силу непонятных выводов (может занимать до 5 рабочих дней)
3) Риск неправильной интерпретации результатов A/B тестов, что может привести в лучшем случае к лишнему труду на 
масштабирование теста, а в худшем (если есть даунлифт) - к потере денег

Цель разработки AI-агента - автоматизация процесса постанализа A/B тестов, снижение нагрузки на аналитиков. Планируется
свести к 0 наличие созвонов на обсуждение результатов теста, а также высвободить 5 чч в рамках запуска LLM решения (+12%
доп времени к работе аналитика). LLM-агент позволит решить эти задачи за счет того, что обеспечит адаптацию результатов
под запрос продакта, а также сможет объяснить статистические выводы по A/B тесту на языке бизнеса. Помимо этого, AI-агент
будет поддерживать диалоговый формат

### Почему именно LLM-агент:
Детерминированное решение (на основе p-value - если p-value > 0.05, то значимо и тд) не дает полное понимание того, как
прошел тест, так как оно не справляется с:
- Разной вариативностью формулировок (у каждого продакта свой словарь терминов)
- Разными сегментами аудитории (для каждого сегмента могут быть выдвинуты совершенно разные гипотезы)
- Будет плохо работать с анализом всех квази/экосистемных метрик (тяжело понять, надо ли масштабировать тест, например, 
если метрика "заводы в накопительные счета" показала аплифт, а метрика "заводы на вклады" наоборот, получила даунлифт)
## Бизнес требования и ограничения
**Текущий процесс** выглядит следующим образом - аналитик делает дизайн A/B теста, делает преданализ, собирает выборку,
рассчитывает min_sample_size -> запускает тест -> собирает результаты через готовый шаблонный скрипт для постанализа -> 
оформляет отчет в wiki -> фиксит потенциальные проблемы, если не что-то непонятно продакт менеджеру

**Целевой процесс** будет выглядеть следующим образом - аналитик будет отправлять уже посчитанные через шаблонный скрипт 
метрики в веб-интерфейс ABSummarizer -> система генерирует структурированное summary по тесту, рекомендации. Если аналитику
что-то не понравилось, он редактирует (занимает до 15-20 минут) через определенные промпты -> аналитик отправляет отчет
продакт менеджеру. Если менеджер не понимает часть выводов или хочет дополнений, то он может взаимодействовать с агентом
через чат, чтобы задать уточняющие вопросы
### Бизнес требования
1) Автоматическая генерация продуктовых выводов на основе данных по A/B тесту. В выводы должно идти следующее:
   1. Оценка статзначимости (p_value по метрикам, доверительные интервалы, распределение core метрик)
   2. Оценка денежного эффекта от теста (абсолюный и относительный аплифт)
   3. Эффект при будущем масштабировании (с учетом метрики и потенциальной базы охвата)
2) Формирование рекомендаций по итогам теста: нужно ли масштабировать/делать ретест, как можно улучшить сегменты
3) Детальное объяснение выводов в формате диалога для продукт менеджеров
4) Единый корпоративный стандарт оформления постанализов на wiki
5) Интеграция с нужными форматами данных - CSV, Excel, JSON, которые хранят данные по тесту

### Ограничения
1) Пока нет доступа к сырым данным, нужно сначала рассчитать агрегированные метрики по тесту
2) A/B тесты могут быть совершенно разными - разные наборы метрик, разные виды метрик, разные гипотезы.
Нужно предусмотреть общую схему для таких кейсов
3) Ответ ассистента должен быть легко интерпретируемым. Агент должен понимать специфику продуктов
4) SLA < 2 секунд

## Что входит в скоуп проекта
1) Генерация рекомендаций и продуктовых выводов
2) Загрузка агрегированных данных по тесту, чтобы агент мог дать рекомендации
3) Диалоговый режим для ответа на уточняющие вопросы
4) Анализ значимости эффекта теста

## Что не входит в скоуп проекта
1) Полный анализ сырых данных по тесту
2) Глубокая персонализация для разных команд
3) Анализ многотестовых (A/B/n) экспериментов
4) Интеграция в BI-инструментами

## Планируемый техдолг
1) кэширование контекста, чтобы агент мог подтягивать другие тесты и искать закономерности между ними
2) интеграция с BI инструментами

## Предпосылки решения
В компании Т аналитики запускает огромное количество A/B тесто, но большое количество времени тратиться на их постанализ
и последующую интерпретацию результатов для продукт менеджеров, которые могут не понять их выводы с первого раза.
AI-агенты могут решать эти проблемы, за счет того, что их обучат на уже сделанных постанализов, а также за счет того,
что им дадут эталонные примеры правильных ответов

## Постановка задачи
Задача - разработать AI-агента, который по агрегированным результатам A/B теста автоматически формулирует:
- summary теста
- продуктовые рекомендации
- пояснения в диалоговом режиме

## Блок схема решения:

![Блок-схема решения](images/Block_Diagram_ML_Sys_Design.png)
